<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Obesi-Che-Cadono-Compilation</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Login Gate -->
  <div id="gate">
    <div class="panel">
      <h2>Inserisci la password per accedere alla tua area riservata di Obesi-Che-Cadono-Compilation</h2>
      <p></p>
      <p>Username: NicolaDeMarchi_001</p>
      <div class="row">
        <input id="pw" type="password" placeholder="Password" autocomplete="off" />
        <button id="go" type="button">Accedi</button>
      </div>
      <div id="msg" class="msg"></div>
    </div>
  </div>

  <!-- Main App -->
  <div id="app" class="center">
    <div class="video-container">
      <iframe width="560" height="315" src="https://www.youtube.com/embed/7wEwLmjDIxU?si=Fn-zpCjyIVmb19UU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>

    <!-- DONATE -->
    <div class="donate">
      <h3>Fai una Donazione</h3>
    
      <div class="donate-controls">
        <label for="donate-amount">Importo (‚Ç¨)</label>
        <input id="donate-amount" type="number" inputmode="decimal" min="1" step="1" placeholder="10" />
        <button id="donate-btn" type="button">Dona ora</button>
      </div>
    
      <p class="donate-note">
        Paga con PayPal
      </p>
   
      <!-- Demo-only: finto form carta (UI non funzionante) -->
       <!--
      <details class="demo-card">
        <summary>Mostra form carta (demo UI)</summary>
        <form id="fake-card-form" onsubmit="return false;">
          <div class="row">
            <label for="cc-name">Intestatario</label>
            <input id="cc-name" type="text" placeholder="Nome Cognome" autocomplete="cc-name" />
          </div>
          <div class="row">
            <label for="cc-number">Numero carta</label>
            <input id="cc-number" type="text" inputmode="numeric" maxlength="19"
                   placeholder="1234 5678 9012 3456" autocomplete="cc-number" />
          </div>
          <div class="row two">
            <div>
              <label for="cc-exp">Scadenza (MM/AA)</label>
              <input id="cc-exp" type="text" inputmode="numeric" maxlength="5"
                     placeholder="MM/AA" autocomplete="cc-exp" />
            </div>
            <div>
              <label for="cc-cvc">CVC</label>
              <input id="cc-cvc" type="text" inputmode="numeric" maxlength="4"
                     placeholder="CVC" autocomplete="cc-csc" />
            </div>
          </div>
          <div class="msg" id="fake-card-msg"></div>
          <button id="fake-card-pay" type="button">Paga (demo)</button>
        </form>
        <p class="demo-warning">
          ‚ö†Ô∏è Demo UI: non invia nessun dato. Per i pagamenti reali usa Stripe Checkout/Elements o PayPal.
        </p>
      </details>
      -->
    </div>
      

    <!-- Patreon Section -->
    <div class="patreon">
      <h3>I nostri migliori Patreon</h3>

      <!-- Top 3 evidenziata -->
      <ol class="top3">
        <li class="first">
          <span class="label"><span class="medal">ü•á</span> NicolaDeMarchi_001</span>
          <span class="amount">‚Ç¨ 7.146</span>
        </li>
        <li class="second">
          <span class="label"><span class="medal">ü•à</span> xx_3l3_monza_xx</span>
          <span class="amount">‚Ç¨ 2.450</span>
        </li>
        <li class="third">
          <span class="label"><span class="medal">ü•â</span> Pantarell4_99</span>
          <span class="amount">‚Ç¨ 2.210</span>
        </li>
      </ol>

      <!-- Resto (standard, senza highlight) -->
      <ol start="4" class="rest">
        <li><span class="label">CyberFox88</span> <span class="amount">‚Ç¨ 1.980</span></li>
        <li><span class="label">Luna_Rossa92</span> <span class="amount">‚Ç¨ 1.430</span></li>
        <li><span class="label">PixelHunter77</span> <span class="amount">‚Ç¨ 1.120</span></li>
        <li><span class="label">SakuraBloomX</span> <span class="amount">‚Ç¨ 870</span></li>
        <li><span class="label">IronForge_21</span> <span class="amount">‚Ç¨ 655</span></li>
        <li><span class="label">EchoByte_999</span> <span class="amount">‚Ç¨ 420</span></li>
      </ol>
    </div>

    <!-- Nuove donazioni -->
    <div class="donations">
      <h3>üíñ Nuove Donazioni</h3>
      <ul id="donations-list">
        <li><strong>NicolaDeMarchi_001</strong> ha donato <span class="amount">‚Ç¨ 35</span></li>
        <li><strong>LadyPixel</strong> ha donato <span class="amount">‚Ç¨ 20</span></li>
        <li><strong>ShadowGamer21</strong> ha donato <span class="amount">‚Ç¨ 50</span></li>
      </ul>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const PASSWORD = "cacca_popo_pupu_cacca"; // <<-- cambia qui la password

      const gate = document.getElementById('gate');
      const app  = document.getElementById('app');
      const pw   = document.getElementById('pw');
      const btn  = document.getElementById('go');
      const msg  = document.getElementById('msg');

      function unlock() {
        gate.style.display = 'none';
        app.style.display  = 'flex';
      }

      function check() {
        if (pw.value === PASSWORD) {
          msg.textContent = '';
          unlock();
        } else {
          msg.textContent = 'Password errata.';
          pw.value = '';
          pw.focus();
        }
      }

      btn.addEventListener('click', check);
      pw.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') check();
      });

      pw.focus();
    });
  </script>
  <script>
// === DONATE REDIRECT ===
// Replace with your own safe payment URL:
// - Stripe Payment Link (consigliato): es. https://buy.stripe.com/xxxx
//   Se hai creato un link ‚Äúdonazione‚Äù con importo variabile, basta aprirlo.
// - Oppure PayPal.me: https://www.paypal.me/TUOUSERNAME/AMOUNT
const PAYMENT_URL_BASE = "https://www.paypal.me/TUOUSERNAME"; // <-- CAMBIA QUESTO

document.getElementById('donate-btn')?.addEventListener('click', () => {
  const amountEl = document.getElementById('donate-amount');
  const raw = (amountEl.value || "").trim().replace(",", ".");
  const amount = Number(raw);

  if (!amount || amount < 1) {
    alert("Inserisci un importo valido (minimo 1 ‚Ç¨).");
    amountEl.focus();
    return;
  }

  // PAYPAL.ME: amount in EUR via suffix
  // Esempio: https://www.paypal.me/TUOUSERNAME/25
  const url = `${PAYMENT_URL_BASE}/${Math.round(amount)}`;

  // Se usi Stripe Payment Links con importo fisso/variabile, sostituisci sopra con il link corretto.
  window.location.href = url;
});

// === DEMO CARD FORM (UI ONLY) ===
(function setupDemoCard() {
  const numberEl = document.getElementById('cc-number');
  const expEl    = document.getElementById('cc-exp');
  const cvcEl    = document.getElementById('cc-cvc');
  const msgEl    = document.getElementById('fake-card-msg');
  const btn      = document.getElementById('fake-card-pay');

  if (!numberEl || !expEl || !cvcEl || !btn) return;

  // mask card number: 1234 5678 9012 3456
  numberEl.addEventListener('input', () => {
    let v = numberEl.value.replace(/\D/g, '').slice(0, 16);
    v = v.replace(/(\d{4})(?=\d)/g, "$1 ");
    numberEl.value = v;
  });

  // mask exp: MM/AA
  expEl.addEventListener('input', () => {
    let v = expEl.value.replace(/\D/g, '').slice(0, 4);
    if (v.length >= 3) v = v.slice(0,2) + "/" + v.slice(2);
    expEl.value = v;
  });

  // cvc max 4
  cvcEl.addEventListener('input', () => {
    cvcEl.value = cvcEl.value.replace(/\D/g, '').slice(0,4);
  });

  function luhnOk(num) {
    const digits = num.replace(/\s+/g, '');
    let sum = 0, dbl = false;
    for (let i = digits.length - 1; i >= 0; i--) {
      let d = parseInt(digits[i], 10);
      if (dbl) { d *= 2; if (d > 9) d -= 9; }
      sum += d;
      dbl = !dbl;
    }
    return (sum % 10) === 0 && digits.length >= 13;
  }

  btn.addEventListener('click', () => {
    const num = numberEl.value.trim();
    const exp = expEl.value.trim();
    const cvc = cvcEl.value.trim();

    if (!luhnOk(num)) {
      msgEl.textContent = "Numero carta non valido (demo).";
      return;
    }
    if (!/^\d{2}\/\d{2}$/.test(exp)) {
      msgEl.textContent = "Scadenza non valida (MM/AA).";
      return;
    }
    if (!/^\d{3,4}$/.test(cvc)) {
      msgEl.textContent = "CVC non valido.";
      return;
    }
    msgEl.style.color = "#86efac";
    msgEl.textContent = "OK (demo). Questo form non effettua pagamenti reali.";
  });
})();
</script>

</body>
</html>
